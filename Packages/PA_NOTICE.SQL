--------------------------------------------------------
--  File created - Thursday-February-15-2018   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Package PA_NOTICE
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "VB"."PA_NOTICE" 
AS
  PROCEDURE S_NOTICE(
      nSTUD_ID IN STUDENT.STUD_ID%TYPE,
      DATA_REC OUT SYS_REFCURSOR,
      nRETURNCODE OUT NUMBER);
END PA_NOTICE;

/


create or replace PACKAGE BODY PA_NOTICE AS PROCEDURE S_NOTICE( nSTUD_ID IN STUDENT.STUD_ID%TYPE, DATA_REC OUT SYS_REFCURSOR, nRETURNCODE OUT NUMBER) AS BEGIN nRETURNCODE := 0; BEGIN OPEN DATA_REC FOR SELECT S.STUD_ID,S.NAME,SB.SUB_NAME, SL.NOTICE_NUM,N.NOTICE_DATE,N.NOTICE_DATA FROM STUDENT S,SUBJECT SB,STUDNOTE_LINK SL,NOTICE N WHERE N.NOTICE_ID = SL.NOTICE_ID AND S.STUD_ID = SL.STUD_ID AND SB.SUB_ID = N.SUB_ID AND SL.STUD_ID = nSTUD_ID; EXCEPTION WHEN OTHERS THEN nRETURNCODE := -24; END; END S_NOTICE; END PA_NOTICE;